services:
  - type: web
    name: morpheous-backend
    runtime: node
    rootDir: .
    region: singapore

    buildCommand: npm run build
    startCommand: npm start

    envVars:
      - key: NODE_ENV
        value: production
      - key: PYTHON_CMD
        value: python3
      - key: FASTAPI_INTERNAL_PORT
        value: 8000
      - key: PYO3_USE_ABI3_FORWARD_COMPATIBILITY  # allow pyo3 packages to build on Python 3.14+
        value: 1

      # ── Set these in Render dashboard (secret values) ──────────────────────
      - key: MONGO_URI
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: Cloud_Name
        sync: false
      - key: Cloud_Api
        sync: false
      - key: Cloud_Secret
        sync: false
      - key: GROQ_API_KEY
        sync: false